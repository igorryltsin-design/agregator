{
  "SCAN_ROOT": "/Users/macbook/Documents/GitHub/Agregator/library",
  "EXTRACT_TEXT": true,
  "LMSTUDIO_API_BASE": "http://localhost:1234/v1",
  "LMSTUDIO_MODEL": "google/gemma-3n-e4b",
  "LMSTUDIO_API_KEY": "",
  "LM_DEFAULT_PROVIDER": "openai",
  "RAG_EMBEDDING_BACKEND": "lm-studio",
  "RAG_EMBEDDING_MODEL": "nomic-ai/nomic-embed-text-v1.5-GGUF",
  "RAG_EMBEDDING_DIM": 768,
  "RAG_EMBEDDING_BATCH": 32,
  "RAG_EMBEDDING_DEVICE": "None",
  "RAG_EMBEDDING_ENDPOINT": "http://localhost:1234/v1",
  "RAG_EMBEDDING_API_KEY": "",
  "RAG_RERANK_BACKEND": "none",
  "RAG_RERANK_MODEL": "",
  "RAG_RERANK_DEVICE": "None",
  "RAG_RERANK_BATCH_SIZE": 16,
  "RAG_RERANK_MAX_LENGTH": 512,
  "RAG_RERANK_MAX_CHARS": 1200,
  "AI_QUERY_VARIANTS_MAX": 1,
  "TRANSCRIBE_ENABLED": true,
  "TRANSCRIBE_BACKEND": "faster-whisper",
  "TRANSCRIBE_MODEL_PATH": "small",
  "TRANSCRIBE_LANGUAGE": "ru",
  "SUMMARIZE_AUDIO": true,
  "AUDIO_KEYWORDS_LLM": true,
  "IMAGES_VISION_ENABLED": true,
  "KEYWORDS_TO_TAGS_ENABLED": true,
  "TYPE_DETECT_FLOW": "extension,filename,heuristics,llm",
  "TYPE_LLM_OVERRIDE": true,
  "IMPORT_SUBDIR": "import",
  "MOVE_ON_RENAME": true,
  "COLLECTIONS_IN_SEPARATE_DIRS": true,
  "COLLECTION_TYPE_SUBDIRS": true,
  "TYPE_DIRS": {
    "article": "articles",
    "audio": "audio",
    "dissertation": "dissertations",
    "dissertation_abstract": "dissertation_abstract",
    "document": "documents",
    "image": "images",
    "monograph": "monographs",
    "note": "notes",
    "other": "other",
    "patent": "patents",
    "presentation": "presentations",
    "proceedings": "proceedings",
    "report": "reports",
    "standard": "standards",
    "textbook": "textbooks"
  },
  "DEFAULT_USE_LLM": true,
  "DEFAULT_PRUNE": true,
  "OCR_LANGS_CFG": "rus+eng",
  "PDF_OCR_PAGES_CFG": 5,
  "ALWAYS_OCR_FIRST_PAGE_DISSERTATION": true,
  "PROMPTS": {
    "metadata_system": "Ты помощник по каталогизации научных материалов. Определи material_type из списка: {{TYPE_LIST}}. Используй подсказки по типам:\n{{TYPE_HINTS}}\nВерни ТОЛЬКО валидный JSON без пояснений. Ключи: material_type, title, author, year, advisor, keywords (array), novelty (string), literature (array), organizations (array), classification (array). Если данных нет — пустые строки/массивы.",
    "summarize_audio_system": "Ты помощник. Суммаризируй стенограмму аудио в 3–6 предложениях на русском, выделив тему, основные тезисы и вывод.",
    "keywords_system": "Ты извлекаешь ключевые слова из стенограммы аудио. Верни только JSON-массив строк на русском: [\"ключ1\", \"ключ2\", ...]. Без пояснений, не более 12 слов/фраз.",
    "ai_search_keywords_system": "Ты помощник ИИ-поиска. По заданному запросу подбери 3-8 релевантных тегов (фраз) на русском или английском. Теги должны отражать суть запроса, быть краткими (1-3 слова) и без служебных слов. Если в запросе есть выражения в кавычках, включи их без изменений (без кавычек). Верни строго JSON-массив строк.",
    "vision_system": "Ты помощник по анализу изображений. Опиши изображение 2–4 предложениями на русском и верни 5–12 ключевых слов. Верни строго JSON: {\"description\":\"...\",\"keywords\":[\"...\"]}."
  },
  "AI_RERANK_LLM": true,
  "AI_RAG_RETRY_ENABLED": true,
  "AI_RAG_RETRY_THRESHOLD": 0.6,
  "LLM_CACHE_ENABLED": true,
  "LLM_CACHE_TTL_SECONDS": 600,
  "LLM_CACHE_MAX_ITEMS": 256,
  "LLM_CACHE_ONLY_MODE": false,
  "SEARCH_CACHE_ENABLED": true,
  "SEARCH_CACHE_TTL_SECONDS": 90,
  "SEARCH_CACHE_MAX_ITEMS": 64,
  "LM_MAX_INPUT_CHARS": 4000,
  "LM_MAX_OUTPUT_TOKENS": 256,
  "AZURE_OPENAI_API_VERSION": "2024-02-15-preview",
  "SEARCH_FACET_TAG_KEYS": null,
  "GRAPH_FACET_TAG_KEYS": null,
  "SEARCH_FACET_INCLUDE_TYPES": true,
  "MATERIAL_TYPES": [
    {
      "key": "image",
      "label": "Изображение",
      "description": "Фотографии, сканы и другие графические файлы.",
      "enabled": true,
      "extensions": [
        "jpg",
        "jpeg",
        "png",
        "webp",
        "bmp",
        "tif",
        "tiff"
      ],
      "text_keywords": [],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Изображение или фотография. Требуется визуальное описание и ключевые слова.",
      "priority": 120,
      "threshold": 1.0,
      "extension_weight": 3.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "audio",
      "label": "Аудио",
      "description": "Звуковые записи, требующие транскрибации.",
      "enabled": true,
      "extensions": [
        "mp3",
        "wav",
        "m4a",
        "flac",
        "ogg"
      ],
      "text_keywords": [],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Аудиозапись. Сначала требуется транскрибация, затем анализ содержания.",
      "priority": 110,
      "threshold": 1.0,
      "extension_weight": 3.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "dissertation_abstract",
      "label": "Автореферат",
      "description": "Автореферат диссертации, краткое изложение основных результатов.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "автореферат",
        "автореферат диссертац",
        "autoreferat",
        "автoref"
      ],
      "filename_keywords": [
        "автореферат",
        "autoreferat",
        "автoref"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Автореферат — краткое изложение диссертации с акцентом на цели, новизну и выводы.",
      "priority": 95,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "dissertation",
      "label": "Диссертация",
      "description": "Полный текст диссертации на соискание учёной степени.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "диссертац",
        "на соискание степени",
        "диссертация"
      ],
      "filename_keywords": [
        "диссер",
        "dissert",
        "thesis"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Полная диссертация с подробным описанием исследования, структуры и приложений.",
      "priority": 90,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "patent",
      "label": "Патент",
      "description": "Патентные документы с описанием изобретения и классификацией.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "патент",
        "patent",
        "mpk",
        "ipc"
      ],
      "filename_keywords": [
        "патент",
        "patent",
        "ru",
        "wo",
        "ep"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Патентное описание с формулой изобретения и ссылками на классификаторы.",
      "priority": 87,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "standard",
      "label": "Стандарт",
      "description": "ГОСТ, ISO, IEC, СанПиН и другие нормативные документы.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "гост",
        "gost",
        "iso",
        "iec",
        "стб",
        "санпин",
        "сп",
        "ту",
        "сто"
      ],
      "filename_keywords": [
        "гост",
        "gost",
        "iso",
        "iec",
        "санпин",
        "сто_",
        "сто",
        "ту_",
        "tu_"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Нормативный документ. Важно выявить номер стандарта, область применения и актуальность.",
      "priority": 88,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "proceedings",
      "label": "Материалы конференции",
      "description": "Сборники трудов, тезисов и материалов конференций.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "материалы конференции",
        "сборник трудов",
        "proceedings",
        "conference",
        "symposium",
        "workshop",
        "тезисы"
      ],
      "filename_keywords": [
        "proceedings",
        "conf",
        "symposium",
        "workshop"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Материалы научной конференции или сборник тезисов участников.",
      "priority": 75,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "journal",
      "label": "Журнал",
      "description": "Целый выпуск научного журнала с оглавлением.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "журнал",
        "вестник",
        "issn",
        "выпуск",
        "№"
      ],
      "filename_keywords": [
        "журнал",
        "journal",
        "magazine",
        "issue",
        "vestnik",
        "выпуск"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Отдельный выпуск журнала с несколькими статьями и оглавлением.",
      "priority": 85,
      "threshold": 1.5,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": [],
      "special": {
        "journal_toc_required": true,
        "min_toc_entries": 5
      }
    },
    {
      "key": "article",
      "label": "Статья",
      "description": "Научная статья или отдельная публикация.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "статья",
        "журнал",
        "doi",
        "удк",
        "материалы конференц",
        "тезисы"
      ],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Отдельная научная статья; выделяй аннотацию, авторов, ключевые слова.",
      "priority": 60,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "textbook",
      "label": "Учебник",
      "description": "Учебные пособия и учебники для студентов.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "учебник",
        "учебное пособ",
        "пособие",
        "для студентов"
      ],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Учебное пособие. Отмечай целевую аудиторию и структуру курса.",
      "priority": 55,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "monograph",
      "label": "Монография",
      "description": "Научная монография или фундаментальное исследование.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "монография",
        "monograph"
      ],
      "filename_keywords": [
        "монограф",
        "monograph"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Научная монография — глубокое авторское исследование.",
      "priority": 58,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "report",
      "label": "Отчёт",
      "description": "Отчётные документы, ТЗ, пояснительные записки.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [
        "отчет",
        "отчёт",
        "техническое задание",
        "пояснительная записка",
        "technical specification"
      ],
      "filename_keywords": [
        "отчет",
        "отчёт",
        "tz_",
        "тз_"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Отчёт или техническая документация. Важно фиксировать заказчика, исполнителя и период.",
      "priority": 65,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "presentation",
      "label": "Презентация",
      "description": "Слайды презентаций и докладов.",
      "enabled": true,
      "extensions": [
        "ppt",
        "pptx",
        "key",
        "odp"
      ],
      "text_keywords": [
        "презентация",
        "slides",
        "powerpoint",
        "слайды",
        "deck"
      ],
      "filename_keywords": [
        "презентац",
        "slides",
        "ppt",
        "pptx",
        "keynote",
        "deck"
      ],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Презентация в слайдах. Структура: слайды, разделы, основные тезисы.",
      "priority": 62,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "note",
      "label": "Заметка",
      "description": "Короткие текстовые заметки и инструкции.",
      "enabled": true,
      "extensions": [
        "md",
        "txt",
        "rst"
      ],
      "text_keywords": [
        "заметка",
        "note"
      ],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Краткая заметка или текстовый файл с минимальной структурой.",
      "priority": 30,
      "threshold": 1.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    },
    {
      "key": "document",
      "label": "Документ",
      "description": "Общий тип по умолчанию, если ничего не подошло.",
      "enabled": true,
      "extensions": [],
      "text_keywords": [],
      "filename_keywords": [],
      "exclude_keywords": [],
      "aliases": [],
      "llm_hint": "Базовый тип документа, когда классификация не определена.",
      "priority": 0,
      "threshold": 0.0,
      "extension_weight": 2.0,
      "filename_weight": 1.5,
      "text_weight": 1.0,
      "require_extension": false,
      "require_filename": false,
      "require_text": false,
      "flow": []
    }
  ]
}