# Flask runtime
FLASK_ENV=development
FLASK_SECRET_KEY=change-me
PIPELINE_API_KEY= q12w3dsff44fsww4

# Paths and OCR
SCAN_ROOT=/path/to/your/library
EXTRACT_TEXT=true
OCR_LANGS=rus+eng
PDF_OCR_PAGES=5
OCR_DISS_FIRST_PAGE=1
LLM_TEXT_LIMIT=15000

# Default admin account (created at first launch)
DEFAULT_ADMIN_USER=admin
DEFAULT_ADMIN_PASSWORD=
ACCESS_CODE=

# LM Studio / OpenAI-compatible endpoint
LMSTUDIO_API_BASE=http://localhost:1234/v1
LMSTUDIO_MODEL=lmstudio-community/gemma-3-1b-it-GGUF
LMSTUDIO_API_KEY=
LM_DEFAULT_PROVIDER=openai
# Legacy alias (supported): LM_PROVIDER=openai

# Database (recommended: PostgreSQL in production).
# DATABASE_URL=postgresql://agregator:agregator@localhost:5432/agregator
# SQLALCHEMY_DATABASE_URI=postgresql://agregator:agregator@localhost:5432/agregator

# LLM worker pool and queue
LLM_POOL_GLOBAL_CONCURRENCY=4
LLM_POOL_PER_USER_CONCURRENCY=1
LLM_QUEUE_MAX_SIZE=100
LLM_QUEUE_PER_USER_MAX=10
LLM_REQUEST_TIMEOUT_SEC=90
LLM_RETRY_COUNT=1
LLM_RETRY_BACKOFF_MS=500
LMSTUDIO_IDLE_UNLOAD_MINUTES=0
SETTINGS_HUB_V2_ENABLED=1

# Audio transcription options
TRANSCRIBE_ENABLED=true
TRANSCRIBE_BACKEND=faster-whisper
TRANSCRIBE_MODEL_PATH=small
TRANSCRIBE_LANGUAGE=ru
FASTER_WHISPER_CACHE_DIR=./models/faster-whisper

# Extra processing toggles
DEFAULT_USE_LLM=false
DEFAULT_PRUNE=true
COLLECTIONS_IN_SEPARATE_DIRS=false
COLLECTION_TYPE_SUBDIRS=false
MOVE_ON_RENAME=true
SUMMARIZE_AUDIO=false
AUDIO_KEYWORDS_LLM=true
IMAGES_VISION_ENABLED=false
KEYWORDS_TO_TAGS_ENABLED=true
TYPE_DETECT_FLOW=extension,filename,heuristics,llm
TYPE_LLM_OVERRIDE=true
RAG_EMBEDDING_BATCH_SIZE=32
# Legacy alias (supported): RAG_EMBEDDING_BATCH=32

# Upload limits
MAX_CONTENT_LENGTH=524288000
