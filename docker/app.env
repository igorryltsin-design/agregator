# Основные настройки Flask-приложения
FLASK_ENV=production
FLASK_SECRET_KEY=change-me

# Пути и OCR
SCAN_ROOT=/data
EXTRACT_TEXT=true
OCR_LANGS=rus+eng
PDF_OCR_PAGES=5
OCR_DISS_FIRST_PAGE=1

# Учетная запись по умолчанию
DEFAULT_ADMIN_USER=admin
DEFAULT_ADMIN_PASSWORD=admin123

# Настройки LLM (при необходимости переопредели через docker-compose.override.yml)
LMSTUDIO_API_BASE=http://host.docker.internal:1234/v1
LMSTUDIO_MODEL=google/gemma-3n-e4b
LMSTUDIO_API_KEY=
LM_DEFAULT_PROVIDER=openai

# База данных (PostgreSQL по умолчанию в docker-compose)
DATABASE_URL=postgresql://agregator:agregator@postgres:5432/agregator

# LLM pool
LLM_POOL_GLOBAL_CONCURRENCY=4
LLM_POOL_PER_USER_CONCURRENCY=1
LLM_QUEUE_MAX_SIZE=100
LLM_QUEUE_PER_USER_MAX=10
LLM_REQUEST_TIMEOUT_SEC=90
LLM_RETRY_COUNT=1
LLM_RETRY_BACKOFF_MS=500
LMSTUDIO_IDLE_UNLOAD_MINUTES=0
SETTINGS_HUB_V2_ENABLED=1

# Обработка аудио
TRANSCRIBE_ENABLED=true
TRANSCRIBE_BACKEND=faster-whisper
TRANSCRIBE_MODEL_PATH=small
TRANSCRIBE_LANGUAGE=ru

# Поведение агрегатора
DEFAULT_USE_LLM=false
DEFAULT_PRUNE=true
COLLECTIONS_IN_SEPARATE_DIRS=false
COLLECTION_TYPE_SUBDIRS=false
MOVE_ON_RENAME=true
SUMMARIZE_AUDIO=false
AUDIO_KEYWORDS_LLM=true
IMAGES_VISION_ENABLED=false
KEYWORDS_TO_TAGS_ENABLED=true
TYPE_DETECT_FLOW=extension,filename,heuristics,llm
TYPE_LLM_OVERRIDE=true
RAG_EMBEDDING_BATCH_SIZE=32
